<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSV Database</title>
</head>
<body>
    <h1>CSV Database</h1>
    
    <!-- Input fields for XXX and YYY -->
    <label for="inputXXX">Input XXX:</label>
    <input type="text" id="inputXXX" placeholder="Enter XXX..." oninput="updateTable()">
    <label for="inputYYY">Input YYY:</label>
    <input type="text" id="inputYYY" placeholder="Enter YYY..." oninput="updateTable()">

    <div id="tableContainer">
        <table id="dataTable"></table>
    </div>

    <script>
        var csvData = [];

        // Function to fetch CSV data
        function fetchCSVData() {
            fetch('Bok2.csv')
                .then(response => response.text())
                .then(data => {
                    // Parse CSV data
                    const rows = data.split('\n').map(row => row.split(','));

                    // Convert CSV data to array of objects
                    csvData = rows.slice(1).map(row => {
                        return {
                            Category: row[1],
                            ChannelName: row[2],
                            StreamURL: row[8]
                        };
                    });

                    // Populate table with rows
                    updateTable();
                })
                .catch(error => console.error('Error fetching CSV data:', error));
        }

        // Function to update table
        function updateTable() {
            var inputXXX = document.getElementById('inputXXX').value;
            var inputYYY = document.getElementById('inputYYY').value;

            var tableHTML = '<tr><th>Category</th><th>Channel Name</th><th>Stream URL</th></tr>';
            csvData.forEach(row => {
                var rowHTML = '<tr>';
                rowHTML += '<td>' + row.Category + '</td>';
                rowHTML += '<td>' + row.ChannelName + '</td>';

                // Replace XXX and YYY in the Stream URL with user input values
                var streamURL = row.StreamURL.replace('XXX', inputXXX);
                streamURL = streamURL.replace('YYY', inputYYY);
                rowHTML += '<td>' + streamURL + '</td>';

                rowHTML += '</tr>';
                tableHTML += rowHTML;
            });

            var dataTable = document.getElementById('dataTable');
            dataTable.innerHTML = tableHTML;
        }

        // Fetch CSV data when the page loads
        window.onload = fetchCSVData;
    </script>
</body>
</html>
